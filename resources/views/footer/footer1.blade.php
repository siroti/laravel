<footer class="py-5 fs-7">
    <div class="container">
      <div class="row">
          <div class="col-12 col-lg-4">
            <a href="/" aria-label="{{ getSiteName() }}" title="{{ getSiteName() }}">
              <img class="{{ getSvgLogo('css','footer') }} {{ strtolower(getColorFooterFont()) == '#ffffff' ? 'footerLogo' : '' }}" 
                loading="lazy" 
                src="{{ getSvgLogo('src','footer') }}" 
                alt="{{ getSiteName() }}"
                />
            </a>
            
            @php 
              $mapsData = getGoogleMapsUrls(); 
              $formattedAddress = getFormattedAddress();
            @endphp
            
            <div class="d-bold mt-5">
                <div class="fs-6 mb-2 fw-bold">{{ $mapsData['display_name'] }}</div>
                
                {!! $formattedAddress !!}
                
                @if($mapsData['has_address'])
                  <a class="btn btn-outline-secondary py-2 px-4 mt-3" 
                     href="{{ $mapsData['primary'] }}" 
                     target="_blank" 
                     title="Como chegar até {{ $mapsData['display_name'] }}" 
                     aria-label="como_chegar"
                     onclick="handleMapClick(event, '{{ $mapsData['primary'] }}', '{{ $mapsData['secondary'] }}')">
                     Como chegar
                  </a>
                @else
                  <a class="btn btn-outline-secondary py-2 px-4 mt-3" 
                     href="{{ $mapsData['primary'] }}" 
                     target="_blank" 
                     title="Encontrar {{ $mapsData['display_name'] }}" 
                     aria-label="encontrar_empresa">Encontrar no mapa</a>
                @endif
            </div>
          </div>
          
          <div class="col-12 col-lg-4 text-start text-lg-center py-5 py-lg-0">
            @if(!empty(getSocialNetwork())) 
            <span class="fw-semibold">Siga nas redes sociais</span>
            <div class="d-flex justify-content-start justify-content-lg-center gap-4 mt-4 mt-lg-3 mb-5">
              @foreach(getSocialNetwork() as $social)
                <a href="{{$social['url']}}" target="_blank" class="text-decoration-none">
                    <i class="{{ 'icon-'.$social['name']}} fs-30" title="{{ ucfirst($social['name']) }}" aria-label="{{ ucfirst($social['name']) }}"></i>
                </a>
              @endforeach
            </div>
            @endif
            <span class="d-block fs-6 fw-bold">{{ getSiteName() }} {{ !empty(getSiteCreci()) ? ' - Creci: '.getSiteCreci() : '' }}</span>
            <span class="mt-3 fw-light">©2000 - 2025 Todos os direitos reservados.</span>
          </div>
          
          <div class="col-12 col-lg-4 text-start text-lg-end">
            @if(!empty($config['phone'])) 
            <div class="btn-group dropup">
              <button type="button" class="col-12 col-md-auto btn btn-secondary py-3 px-5 mb-4 fw-semibold rounded-2" data-bs-toggle="dropdown" aria-expanded="false" data-bs-auto-close="outside" aria-label="Quero entrar em contato" title="Quero entrar em contato">
                  Quero entrar em contato
              </button>
              @include('header.partials.contact-dropdown')
            </div>
            @endif
            <div class="d-block my-4">
              @if (isset($menu) && count($menu) > 0)
                @foreach ($menu as $item)
                  <a href="/pg/{{ $item['url_titulo'] }}" class="mb-3 d-block fs-6">{{$item['titulo']}}</a>
                @endforeach
              @endif
            </div>
            <i class="icon-sun fs-1 mt-4 d-none" title="Sun" aria-label="Sun"></i>
        </div>
      </div>
      <hr class="mt-5 mb-3">
      <div class="sub100 d-block d-md-flex justify-content-start justify-content-md-end gap-4">
        <a href="https://sub100sistemas.com.br/" target="_blank" class="d-flex mb-2 mb-md-0 gap-1">
          <div>Desenvolvedor</div>
          <div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 465.66 126.63" width="57" height="16"><title>SUB100 Sistemas</title><path fill="currentColor" fill-rule="evenodd" d="M2.77,89.7L.34,70.73h44.05v-18.37h-22.27C9.92,52.36,0,42.44,0,30.24v-8.13C0,9.92,9.92,0,22.11,0h38.85l2.44,18.97H21.95v14.47h22.27c12.19,0,22.11,9.92,22.11,22.11v12.03c0,12.19-9.92,22.11-22.11,22.11H2.77ZM403.73,126.63c-1.18,0-2.25-.21-3.2-.62-.95-.42-1.7-1.02-2.25-1.8-.55-.78-.84-1.71-.85-2.77h3.65c.05.72.3,1.28.74,1.7.45.42,1.06.62,1.84.62s1.42-.2,1.87-.59c.45-.39.68-.9.68-1.54,0-.52-.16-.94-.46-1.27-.31-.33-.69-.6-1.16-.79-.46-.19-1.1-.4-1.91-.64-1.1-.33-2-.66-2.69-.99-.69-.32-1.28-.82-1.78-1.47-.49-.66-.74-1.54-.74-2.63,0-1.03.25-1.93.75-2.7.5-.76,1.21-1.35,2.12-1.76.91-.41,1.95-.61,3.12-.61,1.75,0,3.18.44,4.27,1.31,1.1.87,1.7,2.09,1.81,3.66h-3.75c-.03-.6-.28-1.09-.74-1.49-.46-.39-1.08-.59-1.84-.59-.67,0-1.2.18-1.59.52-.4.35-.6.86-.6,1.52,0,.47.15.85.45,1.16.3.31.67.56,1.12.75.45.19,1.08.42,1.89.66,1.1.33,2,.67,2.7,1,.7.33,1.3.83,1.8,1.5.5.67.75,1.54.75,2.62,0,.93-.23,1.8-.71,2.6-.47.8-1.16,1.44-2.07,1.91-.91.47-1.99.71-3.24.71h0ZM384.11,123.14h-6.77l-1.12,3.32h-3.58l6.11-17.46h3.97l6.11,17.46h-3.6l-1.12-3.32h0ZM383.18,120.34l-2.46-7.29-2.46,7.29h4.92ZM363.58,109.03v17.43h-3.41v-11.34l-4.55,11.34h-2.58l-4.58-11.34v11.34h-3.41v-17.43h3.87l5.4,12.96,5.4-12.96h3.85ZM328.76,111.85v4.37h5.72v2.77h-5.72v4.62h6.45v2.85h-9.86v-17.46h9.86v2.85h-6.45ZM316.12,109.03v2.82h-4.53v14.61h-3.41v-14.61h-4.53v-2.82h12.46ZM288.84,126.63c-1.18,0-2.25-.21-3.2-.62-.95-.42-1.7-1.02-2.25-1.8-.55-.78-.84-1.71-.85-2.77h3.65c.05.72.3,1.28.74,1.7s1.06.62,1.84.62,1.42-.2,1.87-.59c.45-.39.68-.9.68-1.54,0-.52-.15-.94-.46-1.27-.31-.33-.69-.6-1.16-.79-.46-.19-1.1-.4-1.91-.64-1.1-.33-2-.66-2.69-.99-.69-.32-1.28-.82-1.78-1.47-.49-.66-.74-1.54-.74-2.63,0-1.03.25-1.93.75-2.7.5-.76,1.21-1.35,2.12-1.76s1.95-.61,3.12-.61c1.75,0,3.18.44,4.27,1.31,1.09.87,1.7,2.09,1.81,3.66h-3.75c-.03-.6-.28-1.1-.74-1.49-.46-.39-1.07-.59-1.84-.59-.67,0-1.2.18-1.59.52-.4.35-.6.86-.6,1.52,0,.47.15.85.45,1.16.3.31.67.56,1.12.75.45.19,1.08.42,1.89.66,1.1.33,2,.67,2.7,1s1.3.83,1.8,1.5c.5.67.75,1.54.75,2.62,0,.93-.24,1.8-.71,2.6-.47.8-1.16,1.44-2.07,1.91-.91.47-1.99.71-3.24.71h0ZM272.86,109.03v17.43h-3.41v-17.43h3.41ZM253.75,126.63c-1.18,0-2.25-.21-3.2-.62-.95-.42-1.7-1.02-2.25-1.8-.55-.78-.84-1.71-.85-2.77h3.65c.05.72.3,1.28.74,1.7s1.06.62,1.84.62,1.42-.2,1.87-.59c.45-.39.68-.9.68-1.54,0-.52-.15-.94-.46-1.27-.31-.33-.69-.6-1.16-.79-.46-.19-1.1-.4-1.91-.64-1.1-.33-2-.66-2.69-.99-.69-.32-1.28-.82-1.78-1.47-.49-.66-.74-1.54-.74-2.63,0-1.03.25-1.93.75-2.7.5-.76,1.21-1.35,2.12-1.76s1.95-.61,3.12-.61c1.75,0,3.18.44,4.27,1.31,1.09.87,1.7,2.09,1.81,3.66h-3.75c-.03-.6-.28-1.1-.74-1.49-.46-.39-1.07-.59-1.84-.59-.67,0-1.2.18-1.59.52-.4.35-.6.86-.6,1.52,0,.47.15.85.45,1.16.3.31.67.56,1.12.75.45.19,1.07.42,1.89.66,1.1.33,2,.67,2.7,1s1.3.83,1.8,1.5c.5.67.75,1.54.75,2.62,0,.93-.24,1.8-.71,2.6-.47.8-1.16,1.44-2.07,1.91-.91.47-1.99.71-3.24.71h0ZM443.71,70.73h-34.07V18.97h34.07v51.76h0ZM443.55,0h-33.75c-12.19,0-22.11,9.92-22.11,22.11v45.47c0,12.19,9.92,22.11,22.11,22.11h33.75c12.19,0,22.11-9.92,22.11-22.11V22.11C465.66,9.92,455.74,0,443.55,0h0ZM265.46,0h-16.44l-2.44,18.97h19.04v70.73h21.95V22.11C287.57,9.92,277.65,0,265.46,0h0ZM213.66,70.78h-31.59V18.97h22.38v14.42h-10.04l-2.44,18.97h21.69v18.42h0ZM225.37,36.87c.66-2.09,1.02-4.32,1.02-6.63v-8.13C226.39,9.92,216.47,0,204.28,0h-44.17v89.7h53.38c12.21,0,22.11-9.9,22.11-22.11v-12.08c0-7.84-4.09-14.7-10.23-18.63h0ZM354.57,70.73h-34.07V18.97h34.07v51.76h0ZM354.41,0h-33.74c-12.19,0-22.11,9.92-22.11,22.11v45.47c0,12.19,9.92,22.11,22.11,22.11h33.74c12.19,0,22.11-9.92,22.11-22.11V22.11C376.52,9.92,366.6,0,354.41,0h0ZM99.42,89.7c-12.19,0-22.11-9.92-22.11-22.11V0h21.95v70.73h27.93V0h21.95v67.58c0,12.19-9.92,22.11-22.11,22.11h-27.6Z"></path></svg></div>
        </a>
        <a href="https://subseeon.com/" target="_blank" class="d-flex gap-1">
          <div>Sistema Imobiliário</div>
          <div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 288 62.64" width="78" height="17"><title>SUBSEE on</title><path fill="#E72F4D" fill-rule="evenodd" d="M272.44,15.92c8.5,0,15.4,6.7,15.55,15.01h0v15.57h-8.45v-15.38c0-3.8-3.2-6.91-7.11-6.91s-7.11,3.11-7.11,6.91v15.38h-8.45V15.85h6.37l.84,2.45c2.41-1.5,5.28-2.38,8.34-2.38h0ZM236.35,24.27c-3.95,0-7.14,3.11-7.14,6.94s3.2,6.93,7.14,6.93,7.14-3.1,7.14-6.93-3.2-6.94-7.14-6.94h0ZM236.35,15.92h0c8.69,0,15.73,6.85,15.73,15.29s-7.04,15.29-15.73,15.29-15.73-6.85-15.73-15.29,7.04-15.29,15.73-15.29Z"></path><path fill="currentColor" fill-rule="evenodd" d="M220.67,0h67.33v8.15h-57.56l-1.32,3.92h-8.44V0h0ZM288,62.64h-67.33v-8.15h57.56l1.32-3.92h8.44v12.07h0ZM85.79,26.9h6.8c1.67,0,2.94-.27,3.82-.81.86-.55,1.3-1.37,1.3-2.48v-.11c0-1.04-.4-1.83-1.22-2.4-.81-.56-2.03-.84-3.66-.84h-7.02v6.64h0ZM85.79,41.36h8.34c1.67,0,2.95-.3,3.85-.89.9-.61,1.35-1.47,1.35-2.61v-.09c0-1.04-.42-1.88-1.28-2.5-.85-.61-2.19-.92-4.02-.92h-8.24v7.01h0ZM75.2,49.85h0V11.78h19.99c2.46,0,4.55.29,6.31.87,1.74.59,3.2,1.43,4.33,2.55.78.76,1.4,1.65,1.85,2.66.45,1.02.68,2.17.68,3.48v.11c0,2.2-.57,3.99-1.7,5.34-1.13,1.35-2.58,2.38-4.33,3.11,2.38.76,4.26,1.86,5.65,3.3,1.4,1.43,2.1,3.46,2.1,6.03v.12c0,3.3-1.3,5.88-3.89,7.72-2.58,1.86-6.21,2.79-10.89,2.79h-20.11ZM35.63,33.15h0V11.78h10.98v21.17c0,2.76.65,4.8,1.94,6.12,1.3,1.31,3.05,1.97,5.24,1.97s3.95-.63,5.23-1.89c1.3-1.27,1.95-3.25,1.95-5.94V11.78h10.98v21.1c0,3.08-.44,5.73-1.31,7.96-.86,2.23-2.09,4.06-3.67,5.49-1.58,1.45-3.49,2.51-5.74,3.2-2.25.68-4.76,1.03-7.56,1.03s-5.3-.35-7.53-1.03c-2.22-.69-4.11-1.75-5.67-3.2-1.56-1.43-2.76-3.24-3.59-5.44-.84-2.2-1.25-4.78-1.25-7.75h0ZM0,44.19h0l6.03-7.01c3.9,3.05,8.12,4.56,12.65,4.56,1.46,0,2.56-.22,3.3-.68.76-.45,1.13-1.09,1.13-1.92v-.14c0-.41-.09-.76-.27-1.06-.19-.3-.52-.6-1.02-.89-.5-.3-1.17-.57-2.02-.84-.84-.26-1.92-.54-3.25-.84-2.09-.48-4.02-.99-5.81-1.56-1.79-.55-3.34-1.28-4.66-2.17-1.3-.88-2.35-1.99-3.11-3.32-.76-1.32-1.14-2.97-1.14-4.91v-.1c0-1.78.34-3.41,1.03-4.9.7-1.5,1.69-2.79,3.01-3.88,1.32-1.09,2.9-1.92,4.76-2.52,1.86-.59,3.96-.89,6.3-.89,3.33,0,6.31.43,8.94,1.28,2.63.84,5,2.1,7.11,3.76l-5.41,7.46c-1.78-1.24-3.61-2.17-5.48-2.8-1.88-.62-3.69-.94-5.43-.94-1.3,0-2.28.23-2.94.71-.66.46-.98,1.04-.98,1.74v.1c0,.45.1.83.31,1.14.21.32.56.62,1.07.9.49.27,1.19.54,2.06.81.89.28,1.99.55,3.31.84,2.23.48,4.25,1.02,6.05,1.66,1.81.63,3.35,1.4,4.6,2.31,1.26.91,2.23,2.01,2.89,3.3.68,1.28,1.02,2.82,1.02,4.6v.11c0,1.97-.38,3.71-1.14,5.22-.76,1.52-1.84,2.8-3.21,3.87-1.38,1.07-3.04,1.89-4.97,2.46-1.93.58-4.09.86-6.45.86-3.51,0-6.82-.53-9.95-1.58-3.12-1.06-5.91-2.64-8.34-4.74h0ZM177.44,12.17h26.87v4.26h-22.51v12.4h20.13v4.26h-20.13v12.72h22.77v4.26h-27.33V12.17h.2ZM145.36,12.17h26.87v4.26h-22.5v12.4h20.12v4.26h-20.12v12.72h22.76v4.26h-27.33V12.17h.2ZM118.42,20.5h0c-.09.38-.13.78-.13,1.2,0,.44.03.85.1,1.24.06.39.17.76.3,1.1.13.34.32.67.56.98.24.32.55.61.91.9.35.29.78.56,1.28.82.5.27,1.07.52,1.72.76.65.24,1.38.47,2.21.7.82.22,1.75.45,2.76.66,2.07.47,3.86,1.03,5.39,1.68,1.53.65,2.8,1.4,3.79,2.23.99.84,1.75,1.84,2.25,3.01.5,1.16.75,2.48.75,3.95,0,.81-.08,1.6-.24,2.35-.17.75-.4,1.46-.72,2.14-.64,1.35-1.52,2.5-2.64,3.44-.56.48-1.17.9-1.85,1.27-.67.36-1.4.67-2.18.92-.78.26-1.61.45-2.46.58-.85.12-1.74.19-2.66.19-1.48,0-2.91-.12-4.27-.37-1.36-.24-2.66-.61-3.9-1.1-1.23-.49-2.43-1.11-3.61-1.86-1.17-.76-2.32-1.64-3.43-2.66l-.14-.13,2.84-3.42.15.14c.96.89,1.92,1.66,2.89,2.32.96.66,1.94,1.21,2.91,1.64,1.94.86,4.18,1.29,6.72,1.29,1.22,0,2.33-.14,3.31-.43.96-.29,1.82-.72,2.54-1.29,1.44-1.14,2.17-2.65,2.17-4.51,0-.43-.04-.84-.11-1.23-.06-.38-.17-.75-.3-1.08-.13-.33-.32-.65-.55-.95-.24-.31-.53-.6-.87-.87-.34-.28-.75-.55-1.22-.8-.48-.25-1.03-.5-1.64-.72-.62-.23-1.33-.46-2.12-.68-.79-.22-1.67-.44-2.64-.65-1.05-.23-2.04-.48-2.96-.76-.93-.27-1.79-.56-2.58-.87-.8-.31-1.53-.65-2.17-1.02-.66-.37-1.25-.78-1.76-1.22-.53-.44-.98-.91-1.37-1.43-.39-.51-.71-1.07-.96-1.66-.5-1.17-.76-2.55-.76-4.15,0-.76.08-1.5.23-2.2.15-.71.38-1.38.68-2.02.3-.63.68-1.23,1.11-1.79.42-.55.92-1.06,1.48-1.52.55-.47,1.16-.89,1.81-1.25.66-.36,1.35-.68,2.1-.94,1.5-.53,3.14-.79,4.92-.79,1.36,0,2.64.09,3.83.29,1.2.19,2.3.48,3.33.86,1.02.38,2.02.86,3.01,1.43.99.58,1.97,1.25,2.92,2.02l.15.12-2.67,3.59-.16-.14c-.86-.71-1.71-1.32-2.56-1.83-.86-.51-1.71-.93-2.57-1.25-.86-.32-1.74-.55-2.64-.71-.89-.16-1.81-.24-2.75-.24-.59,0-1.14.04-1.68.12-.53.08-1.03.2-1.5.35-.47.16-.91.35-1.32.55-.4.21-.77.44-1.1.7-.32.26-.62.55-.87.86-.26.31-.47.66-.65,1.02-.17.36-.31.73-.4,1.12Z"></path></svg></div>
        </a>
      </div>
    </div>
  </footer>

@push('js')
<script>
// ✅ Cache otimizado para performance
const quickCache = {};
function handleMapClick(event, primaryUrl, secondaryUrl) {
    event.preventDefault();
    
    const button = event.target;
    const cacheKey = btoa(primaryUrl).slice(0, 10);
    
    if (quickCache[cacheKey]) {
        const useSecondary = quickCache[cacheKey] === 'fallback';
        window.open(useSecondary ? secondaryUrl : primaryUrl, '_blank');
        return;
    }
    
    window.open(primaryUrl, '_blank');
    
    if (!button.dataset.tooltipShown) {
        button.dataset.tooltipShown = 'true';
        setTimeout(() => showQuickTooltip(button, secondaryUrl, cacheKey), 1000);
    }
}

function showQuickTooltip(button, secondaryUrl, cacheKey) {
    const tooltip = document.createElement('div');
    tooltip.innerHTML = `
        <div class="position-absolute bg-dark text-white p-2 rounded" 
             style="top: -50px; left: 50%; transform: translateX(-50%); z-index: 1000; font-size: 0.75rem; white-space: nowrap;">
            <a href="${secondaryUrl}" 
               target="_blank" 
               class="text-warning text-decoration-underline"
               onclick="quickCache['${cacheKey}'] = 'fallback'">
                📍 Buscar por endereço
            </a>
        </div>
    `;
    
    button.style.position = 'relative';
    button.appendChild(tooltip);
    
    setTimeout(() => {
        if (tooltip.parentNode) {
            tooltip.parentNode.removeChild(tooltip);
        }
    }, 3000);
}
</script>
@endpush